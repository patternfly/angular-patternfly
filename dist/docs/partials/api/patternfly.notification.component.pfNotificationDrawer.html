<a href="https://github.com/patternfly/angular-patternfly/edit/master/src/notification/examples/notification-drawer.js" class="improve-docs"><i class="icon-edit"> </i>Improve this doc</a><a href="https://github.com/patternfly/angular-patternfly/blob/b589e07/src/notification/examples/notification-drawer.js#L486" class="view-source"><i class="icon-eye-open"> </i>View source</a><h1><code ng:non-bindable="">pfNotificationDrawer</code>
<div><span class="hint">directive in module <code ng:non-bindable="">patternfly.notification</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Component for rendering a notification drawer. This provides a common mechanism to handle how the notification
drawer should look and behave without mandating the look of the notification group heading or notification body.
<br>
<span class="label-title">Configuration Requirements:</span></p>
<ul>
  <li>The notification groups must be passed to create each group in the drawer. Each notification group must include a collection of notifications to be shown for that group, the collection MUST be called &#39;notifications&#39;.</li>
  <li>Each notification should have an &#39;unread&#39; field in order to style unread notifications and hide/show the Mark All Unread button if desired.</li>
  <li>You must provide the source for the heading, sub-heading, and notification body to show the content you desire for each notification.</li>
  <li>
    The pfNotificationDrawer has stylings pre-set from Patternfly (<a href="http://www.patternfly.org/">http://www.patternfly.org/</a>) for use within the
    navbar-pf and navbar-pf-vertical containers. If neither is being used, the top and height should be set such that the
    drawer will take up the entire viewport vertically.<br>
    For instance:<br>
    <p style="margin-left: 20px;">
      .my-nav-container .drawer-pf {<br>
      &nbsp;&nbsp;height: calc(~&quot;100vh - 46px&quot;);<br>
      &nbsp;&nbsp;top: 26px;</br>
      }
    </p>
    Note, this should be bottom aligned with the trigger, and leave a 20px at the bottom of the viewport.
  </li>
</ul>
<span class="label-title">Other Configuration Options:</span>
<ul>
<li> Pass a customScope object containing any scope variables/functions you need to access from the included source, access these
via handlers.<your handler> in your included source.</li>
  <li>Each notification group can add a &#39;noNotificationsText&#39; field to override the text specifically for that group. If not supplied the overall text given will be used for the group if that is supplied. Otherwise, the default empty message is displayed.</li>
</ul></div></div>
<h2 id="usage">Usage</h2>
<div class="usage">as element:<pre class="prettyprint linenums">&lt;pf-notification-drawer
       drawer-hidden="{boolean}"
       allow-expand="{boolean}"
       drawer-expanded="{boolean}"
       drawer-title="{string}"
       notification-groups="{object}"
       notification-track-field="{string}"
       on-close="{function}"
       show-mark-all-read="{boolean}"
       on-mark-all-read="{function}"
       show-clear-all="{boolean}"
       on-clear-all="{function}"
       action-button-title="{string}"
       action-button-callback="{function}"
       title-include="{string}"
       heading-include="{string}"
       subheading-include="{string}"
       notification-body-include="{string}"
       notification-footer-include="{string}"
       no-notifications-text="{string}"
       custom-scope="{object}"&gt;
&lt;/pf-notification-drawer&gt;</pre>
<h4 id="usage_parameters">Parameters</h4><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>drawerHidden</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Flag if the drawer is currently hidden</p>
</div></td></tr><tr><td>allowExpand</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Flag if the drawer can be expanded. Optional, default: false</p>
</div></td></tr><tr><td>drawerExpanded</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Flag if the drawer is expanded (only valid if allowExpand is true). Optional, default: false</p>
</div></td></tr><tr><td>drawerTitle</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Title to display for the drawer (leaving this blank will remove the provided expand capability)</p>
</div></td></tr><tr><td>notificationGroups</td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Collection notification groups to add to the drawer. Alternatively, a single group object can be given if categorization is not used.</p>
</div></td></tr><tr><td>notificationTrackField</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Optional field from the notifications to use to track by in the notifications listing ($index used otherwise).</p>
</div></td></tr><tr><td>onClose</td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>function() Callback for the close button. Close button is shown if this callback is supplied. Callback should set drawerHidden to true to close the drawer.</p>
</div></td></tr><tr><td>showMarkAllRead</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Flag if the mark all read button should be shown, optional, default is false</p>
</div></td></tr><tr><td>onMarkAllRead</td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>function(notificationGroup) Callback method for the mark all read button (Optional)</p>
</div></td></tr><tr><td>showClearAll</td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Flag if the clear all button should be shown, optional, default is false</p>
</div></td></tr><tr><td>onClearAll</td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>function(notificationGroup) Callback method for the clear all button (Optional)</p>
</div></td></tr><tr><td>actionButtonTitle</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Text for the lower action button of the drawer (optional, if not specified there will be no action button)</p>
</div></td></tr><tr><td>actionButtonCallback</td><td><a href="" class="label type-hint type-hint-function">function</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>function(notificationGroup) Callback method for action button for each group, the notificationGroup is passed (Optional)</p>
</div></td></tr><tr><td>titleInclude</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Include src for the title area for the notification drawer, use this to customize the drawer title area</p>
</div></td></tr><tr><td>headingInclude</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Include src for the heading area for each notification group, access the group via notificationGroup</p>
</div></td></tr><tr><td>subheadingInclude</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Include src for the sub-heading area for each notification group, access the group via notificationGroup</p>
</div></td></tr><tr><td>notificationBodyInclude</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Include src for the notification body for each notification, access the notification via notification</p>
</div></td></tr><tr><td>notificationFooterInclude</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Include src for the notification footer for each notification, access the notification via notification</p>
</div></td></tr><tr><td>noNotificationsText</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Text to show when there are no notifications. Optional.</p>
</div></td></tr><tr><td>customScope</td><td><a href="" class="label type-hint type-hint-object">object</a></td><td><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><p>Object containing any variables/functions used by the included src, access via $ctrl.customScope.<xxx></p>
</div></td></tr></tbody></table></div>
<h2 id="example">Example</h2>
<div class="example"><div class="patternfly-notification-component-page patternfly-notification-component-pfnotificationdrawer-page"><h4 id="example_source">Source</h4>
<div source-edit="patternfly.notification.demo" source-edit-deps="angular.js patternfly.utils patternfly.filters patternfly.sort patternfly.views modules.js script.js" source-edit-html="index.html-57 heading.html subheading.html notification-footer.html notification-body.html" source-edit-css="" source-edit-js="modules.js script.js-58" source-edit-json="" source-edit-unit="" source-edit-scenario=""></div>
<div class="tabbable"><div class="tab-pane" title="index.html">
<pre class="prettyprint linenums" ng-set-text="index.html-57" ng-html-wrap-loaded="patternfly.notification.demo angular.js patternfly.utils patternfly.filters patternfly.sort patternfly.views modules.js script.js"></pre>
<script type="text/ng-template" id="index.html-57">
  <div ng-controller="DrawerCtrl" class="row example-container">
    <div class="col-md-12 pre-demo-text">
      <label>Click the notifications indicator to show the Notification Drawer: </label>
    </div>
    <div class="navbar-pf-vertical">
      <nav class="collapse navbar-collapse">
        <ul class="nav navbar-nav navbar-left navbar-iconic">
          <li class="drawer-pf-trigger dropdown" ng-class="{'open': !hideDrawer}">
            <a class="nav-item-iconic drawer-pf-trigger-icon" ng-click="toggleShowDrawer()">
              <span class="fa fa-bell" title="Notifications"></span>
              <span ng-if="unreadNotifications" class="badge badge-pf-bordered"> </span>
            </a>
          </li>
        </ul>
      </nav>
    </div>
    <div class="layout-pf-fixed">
      <div class="navbar-pf-vertical">
        <pf-notification-drawer drawer-hidden="hideDrawer" drawer-title="Notifications Drawer" allow-expand="true"
             notification-groups="groups" on-close="closeDrawer"
             show-mark-all-read="true" on-mark-all-read="markAllRead"
             show-clear-all="true" on-clear-all="clearAll"
             heading-include="heading.html" subheading-include="subheading.html" notification-body-include="notification-body.html"
             notification-footer-include="notification-footer.html" custom-scope="customScope" notification-track-field="uid">
        </pf-notification-drawer>
      </div>
    </div>
    <div class="col-md-12">
      <label class="actions-label">Actions: </label>
    </div>
    <div class="col-md-12">
      <textarea rows="3" class="col-md-12">{{actionsText}}</textarea>
    </div>
  </div>
</script>
</div>
<div class="tab-pane" title="heading.html">
<pre class="prettyprint linenums" ng-set-text="heading.html"></pre>
<script type="text/ng-template" id="heading.html">
  {{notificationGroup.heading}}
</script>
</div>
<div class="tab-pane" title="subheading.html">
<pre class="prettyprint linenums" ng-set-text="subheading.html"></pre>
<script type="text/ng-template" id="subheading.html">
  {{notificationGroup.subHeading}}
</script>
</div>
<div class="tab-pane" title="notification-footer.html">
<pre class="prettyprint linenums" ng-set-text="notification-footer.html"></pre>
<script type="text/ng-template" id="notification-footer.html">
</script>
</div>
<div class="tab-pane" title="notification-body.html">
<pre class="prettyprint linenums" ng-set-text="notification-body.html"></pre>
<script type="text/ng-template" id="notification-body.html">
  <div uib-dropdown class="dropdown pull-right dropdown-kebab-pf" ng-if="notification.actions && notification.actions.length > 0">
    <button uib-dropdown-toggle class="btn btn-link dropdown-toggle" type="button" id="dropdownKebabRight" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
      <span class="fa fa-ellipsis-v"></span>
    </button>
    <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownKebabRight">
      <li ng-repeat="action in notification.actions"
          role="{{action.isSeparator === true ? 'separator' : 'menuitem'}}"
          ng-class="{'divider': action.isSeparator === true, 'disabled': action.isDisabled === true}">
        <a ng-if="action.isSeparator !== true" class="secondary-action" title="{{action.title}}" ng-click="$ctrl.customScope.handleAction(notification, action)">
          {{action.name}}
        </a>
      </li>
    </ul>
  </div>
  <span ng-if="notification.status" class="{{'pull-left ' + $ctrl.customScope.getNotficationStatusIconClass(notification)}}" ng-click="$ctrl.customScope.markRead(notification)"></span>
  <div class="drawer-pf-notification-content" ng-click="$ctrl.customScope.markRead(notification)">
    <span class="drawer-pf-notification-message" tooltip-append-to-body="true" tooltip-popup-delay="500" tooltip-placement="bottom" tooltip="{{notification.message}}">
     {{notification.message}}
    </span>
    <div class="drawer-pf-notification-info" ng-click="$ctrl.customScope.markRead(notification)">
      <span class="date">{{notification.timeStamp | date:'MM/dd/yyyy'}}</span>
      <span class="time">{{notification.timeStamp | date:'h:mm:ss a'}}</span>
    </div>
  </div>
</script>
</div>
<div class="tab-pane" title="modules.js">
<pre class="prettyprint linenums" ng-set-text="modules.js"></pre>
<script type="text/ng-template" id="modules.js">
  angular.module('patternfly.notification.demo', ['patternfly.notification','patternfly.views']);
</script>
</div>
<div class="tab-pane" title="script.js">
<pre class="prettyprint linenums" ng-set-text="script.js-58"></pre>
<script type="text/ng-template" id="script.js-58">
  angular.module('patternfly.notification.demo').controller('DrawerCtrl', ['$scope',
    function ($scope) {
      var currentTime = (new Date()).getTime();

      var updateUnreadStatus = function() {
        $scope.unreadNotifications = _.find($scope.groups, function(group) {
          return _.find(group.notifications, {unread: true});
        });
      };

      $scope.hideDrawer = true;
      $scope.toggleShowDrawer = function () {
        $scope.hideDrawer = !$scope.hideDrawer;
      };

      $scope.closeDrawer = function() {
        $scope.hideDrawer = true;
      };

      var menuActions = [
         {
           name: 'Action',
           title: 'Perform an action'
         },
         {
           name: 'Another Action',
           title: 'Do something else'
         },
         {
           name: 'Disabled Action',
           title: 'Unavailable action',
           isDisabled: true
         },
         {
           name: 'Something Else',
           title: ''
         },
         {
           isSeparator: true
         },
         {
           name: 'Grouped Action 1',
           title: 'Do something'
         },
         {
           name: 'Grouped Action 2',
           title: 'Do something similar'
         }
       ];


      $scope.groups = [
        {
          heading: "Notification Tab 1",
          subHeading: "5 New Events",
          notifications: [
            {
              uid: 1,
              unread: true,
              message: "A New Event! Huzzah! Bold.",
              status: 'info',
              actions: menuActions,
              timeStamp: currentTime - (1 * 60 * 60 * 1000)
            },
            {
              uid: 2,
              unread: true,
              message: "Another Event Notification",
              status: 'ok',
              actions: menuActions,
              timeStamp: currentTime - (2 * 60 * 60 * 1000)
            },
            {
              uid: 3,
              unread: false,
              message: "Another Event Notification",
              status: 'warning',
              actions: menuActions,
              timeStamp: currentTime - (10 * 60 * 60 * 1000)
            },
            {
              uid: 4,
              unread: false,
              message: "Another Event Notification",
              status: 'error',
              actions: menuActions,
              timeStamp: currentTime - (12 * 60 * 60 * 1000)
            },
            {
              uid: 5,
              unread: true,
              message: "A New Event! Huzzah! Bold",
              status: 'info',
              actions: menuActions,
              timeStamp: currentTime - (1 * 60 * 60 * 1000)
            },
            {
              uid: 6,
              unread: true,
              message: "Another Event Notification",
              status: 'error',
              actions: menuActions,
              timeStamp: currentTime - (2 * 60 * 60 * 1000)
            },
            {
              uid: 7,
              unread: false,
              message: "Another Event Notification",
              status: 'ok',
              actions: menuActions,
              timeStamp: currentTime - (10 * 60 * 60 * 1000)
            },
            {
              uid: 8,
              unread: false,
              message: "Another Event Notification",
              status: 'warning',
              actions: menuActions,
              timeStamp: currentTime - (12 * 60 * 60 * 1000)
            },
            {
              uid: 9,
              unread: true,
              message: "Another Event Notification",
              status: 'info',
              actions: menuActions,
              timeStamp: currentTime - (240 * 60 * 60 * 1000)
            }
          ],
          isLoading: true
        },
        {
          heading: "Notification Tab 2",
          subHeading: "3 New Events",
          notifications: [
            {
              uid: 10,
              unread: true,
              message: "A New Event! Huzzah! Bold",
              status: 'info',
              actions: menuActions,
              timeStamp: currentTime - (1 * 60 * 60 * 1000)
            },
            {
              uid: 11,
              unread: true,
              message: "Another Event Notification",
              status: 'error',
              actions: menuActions,
              timeStamp: currentTime - (2 * 60 * 60 * 1000)
            },
            {
              uid: 12,
              unread: false,
              message: "Another Event Notification",
              status: 'warning',
              actions: menuActions,
              timeStamp: currentTime - (10 * 60 * 60 * 1000)
            },
            {
              uid: 13,
              unread: false,
              message: "Another Event Notification",
              status: 'ok',
              actions: menuActions,
              timeStamp: currentTime - (12 * 60 * 60 * 1000)
            },
            {
              uid: 14,
              unread: true,
              message: "Another Event Notification",
              status: 'warning',
              actions: menuActions,
              timeStamp: currentTime - (240 * 60 * 60 * 1000)
            }
          ]
        },
        {
          heading: "Notification Tab 3",
          subHeading: "0 New Events",
          notifications: [],
          noNotificationsText: "No Tab 3 notifications found."
        },
        {
          heading: "Notification Tab 4",
          subHeading: "3 New Events",
          notifications: [
            {
              uid: 15,
              unread: true,
              message: "A New Event! Huzzah! Bold",
              status: 'warning',
              actions: menuActions,
              timeStamp: currentTime - (1 * 60 * 60 * 1000)
            },
            {
              uid: 16,
              unread: true,
              message: "Another Event Notification",
              status: 'ok',
              actions: menuActions,
              timeStamp: currentTime - (2 * 60 * 60 * 1000)
            },
            {
              uid: 17,
              unread: false,
              message: "Another Event Notification",
              status: 'ok',
              actions: menuActions,
              timeStamp: currentTime - (10 * 60 * 60 * 1000)
            },
            {
              uid: 18,
              unread: false,
              message: "Another Event Notification",
              status: 'error',
              actions: menuActions,
              timeStamp: currentTime - (12 * 60 * 60 * 1000)
            },
            {
              uid: 19,
              unread: true,
              message: "Another Event Notification",
              status: 'info',
              actions: menuActions,
              timeStamp: currentTime - (240 * 60 * 60 * 1000)
            }
          ]
        },
        {
          heading: "Notification Tab 5",
          subHeading: "3 New Events",
          notifications: [
            {
              uid: 20,
              unread: true,
              message: "A New Event! Huzzah! Bold",
              status: 'error',
              actions: menuActions,
              timeStamp: currentTime - (1 * 60 * 60 * 1000)
            },
            {
              uid: 21,
              unread: true,
              message: "Another Event Notification",
              status: 'error',
              actions: menuActions,
              timeStamp: currentTime - (2 * 60 * 60 * 1000)
            },
            {
              uid: 22,
              unread: false,
              message: "Another Event Notification",
              status: 'warning',
              actions: menuActions,
              timeStamp: currentTime - (10 * 60 * 60 * 1000)
            },
            {
              uid: 23,
              unread: false,
              message: "Another Event Notification",
              status: 'warning',
              actions: menuActions,
              timeStamp: currentTime - (12 * 60 * 60 * 1000)
            },
            {
              uid: 24,
              unread: true,
              message: "Another Event Notification",
              status: 'error',
              actions: menuActions,
              timeStamp: currentTime - (240 * 60 * 60 * 1000)
            }
          ]
        },
        {
          heading: "Notification Tab 6",
          subHeading: "0 New Events",
          notifications: []
        },
      ];

      updateUnreadStatus();
      $scope.actionsText = "";

      $scope.markAllRead = function (group) {
        $scope.actionsText = "Mark all read: " + group.heading + "\n" + $scope.actionsText;
        angular.forEach(group.notifications, function(nextNotification) {
          nextNotification.unread = false;
        });
        group.subHeading =  "0 New Events";
        updateUnreadStatus();
      };

      $scope.clearAll = function (group) {
        $scope.actionsText = "Clear all: " + group.heading + "\n" + $scope.actionsText;
        group.notifications = [];
        group.subHeading = "0 New Events";
      };

      //
      // Define customScope to contain anything that needs to be accessed from the included source
      // html files (heading, subheading, or notificaton body).
      //

      $scope.customScope = {};
      $scope.customScope.getNotficationStatusIconClass = function (notification) {
        var retClass = '';
        if (notification && notification.status) {
          if (notification.status === 'info') {
            retClass = "pficon pficon-info";
          } else if (notification.status === 'error') {
            retClass = "pficon pficon-error-circle-o";
          } else if (notification.status === 'warning') {
            retClass = "pficon pficon-warning-triangle-o";
          } else if (notification.status === 'ok') {
            retClass = "pficon pficon-ok";
          }
        }
        return retClass;
      };

      $scope.customScope.handleAction = function (notification, action) {
        if (action.isDisabled) {
          return;
        }
        var newText = notification.message + " - " + action.name;
        $scope.actionsText = newText + "\n" + $scope.actionsText;
      };

      $scope.customScope.markRead = function (notification) {
        if (notification.unread) {
          notification.unread = false;
          $scope.actionsText = "Mark notification read" + "\n" + $scope.actionsText;
          var notificationGroup = $scope.groups.find(function(group) {
            return group.notifications.find(function(nextNotification) {
              return notification === nextNotification;
            });
          });
          var unread = notificationGroup.notifications.filter(function(nextNotification) {
            return nextNotification.unread;
          });
          notificationGroup.subHeading =  unread.length + " New Events";
          updateUnreadStatus();
        }
      };

    }
  ]);
</script>
</div>
</div><h4 id="example_demo">Demo</h4>
<div class="well doc-example-live animate-container" ng-embed-app="patternfly.notification.demo" ng-set-html="index.html-57" ng-eval-javascript="modules.js script.js-58"></div>
</div></div>
</div>
