angular.module("patternfly",["patternfly.autofocus","patternfly.formgroup","patternfly.notification","patternfly.select","patternfly.validation"]),angular.module("patternfly.autofocus",[]).directive("pfFocused",function($timeout){return{restrict:"A",link:function(scope,element,attrs){scope.$watch(attrs.pfFocused,function(newValue){$timeout(function(){newValue&&(element[0].focus(),element[0].select&&element[0].select())})})}}}),angular.module("patternfly.formgroup",[]).directive("pfFormGroup",function(){return{restrict:"E",transclude:!0,link:function(scope,element,attrs,ctrl,transclude){attrs.pfId||(attrs.pfId="pfID"+Math.floor(1e6*Math.random()+1)),attrs.pfLabelClass||(attrs.pfLabelClass="col-sm-2"),attrs.pfInputClass||(attrs.pfInputClass="col-sm-10"),element.append('<div class="form-group"><label class="control-label '+attrs.pfLabelClass+'" for="'+attrs.pfId+'">'+attrs.pfLabelText+'</label><div class="'+attrs.pfInputClass+'"></div></div>'),transclude(scope,function(clone){var transcludeDiv=angular.element(element.find("div").get(1));transcludeDiv.append(clone);var transcludeInput=angular.element(transcludeDiv.find("input").get(0));transcludeInput.addClass("form-control"),transcludeInput.attr("id",attrs.pfId)})}}}),angular.module("patternfly.notification",[]).provider("Notifications",function(){this.delay=5e3,this.verbose=!0,this.notifications={},this.persist={error:!0,httpError:!0},this.setDelay=function(delay){return this.delay=delay,this},this.setVerbose=function(verbose){return this.verbose=verbose,this},this.setPersist=function(persist){this.persist=persist},this.$get=["$rootScope","$timeout","$log",function($rootScope,$timeout,$log){function createNotifyMethod(mode){return function(message){notifications.message(modes[mode].type,modes[mode].header,message,persist[mode]),verbose&&$log[modes[mode].log](message)}}var delay=this.delay,notifications=this.notifications,verbose=this.verbose,persist=this.persist;$rootScope.notifications={},$rootScope.notifications.data=[],$rootScope.notifications.remove=function(index){$rootScope.notifications.data.splice(index,1)};var scheduleMessagePop=function(){$timeout(function(){for(var i=0;i<$rootScope.notifications.data.length;i++)$rootScope.notifications.data[i].isPersistent||$rootScope.notifications.data.splice(i,1)},delay)};$rootScope.notifications||($rootScope.notifications.data=[]),notifications.message=function(type,header,message,isPersistent){$rootScope.notifications.data.push({type:type,header:header,message:message,isPersistent:isPersistent}),scheduleMessagePop()};var modes={info:{type:"info",header:"Info!",log:"info"},success:{type:"success",header:"Success!",log:"info"},error:{type:"danger",header:"Error!",log:"error"},warn:{type:"warning",header:"Warning!",log:"warn"}};for(var mode in modes)notifications[mode]=createNotifyMethod(mode);return notifications.httpError=function(message,httpResponse){message+=" ("+(httpResponse.data.message||httpResponse.data.cause||httpResponse.data.cause||httpResponse.data.errorMessage)+")",notifications.message("danger","Error!",message,persist.httpError),verbose&&$log.error(message)},notifications}]}).directive("pfNotification",function(){return{scope:{pfNotificationType:"=",pfNotificationMessage:"=",pfNotificationHeader:"=",pfNotificationPersistent:"=",pfNotificationIndex:"="},restrict:"E",templateUrl:"notification/views/notification.html"}}).directive("pfNotificationList",function(){return{restrict:"E",templateUrl:"notification/views/notification-list.html"}}),angular.module("patternfly.select",[]).directive("pfSelect",function($timeout){return{restrict:"A",require:"?ngModel",link:function(scope,element,attrs,ngModel){element.selectpicker();var $render=ngModel.$render;if(ngModel.$render=function(){$render.apply(this,arguments),$timeout(function(){element.selectpicker("refresh")},0,!1)},attrs.ngOptions){var optionCollectionList=attrs.ngOptions.split("in "),optionCollection=optionCollectionList[optionCollectionList.length-1];scope.$watch(optionCollection,function(){element.selectpicker("refresh")})}attrs.$observe("disabled",function(){element.selectpicker("refresh")})}}}),angular.module("patternfly.validation",[]).directive("pfValidation",function($timeout){return{restrict:"A",require:"ngModel",scope:{pfValidation:"&",pfValidationDisabled:"="},link:function(scope,element,attrs,ctrl){function validate(){var val=scope.inputCtrl.$modelValue,valFunc=scope.pfValidation({input:val});attrs.pfValidation||(valFunc=!0);var valid=!val||valFunc||""===val;toggleErrorClass(scope.valEnabled&&!valid?!0:!1)}function toggleErrorClass(add){var messageElement=element.next(),parentElement=element.parent(),hasErrorM=parentElement.hasClass("has-error"),wasHidden=messageElement.hasClass("ng-hide");scope.inputCtrl.$setValidity("pf-validation",!add),add&&(hasErrorM||parentElement.addClass("has-error"),wasHidden&&messageElement.removeClass("ng-hide")),add||(hasErrorM&&parentElement.removeClass("has-error"),wasHidden||messageElement.addClass("ng-hide"))}scope.inputCtrl=ctrl,scope.valEnabled=!attrs.pfValidationDisabled,scope.$watch("pfValidationDisabled",function(newVal){scope.valEnabled=!newVal,newVal?(scope.inputCtrl.$setValidity("pfValidation",!0),toggleErrorClass(!1)):validate()}),attrs.pfValidation?$timeout(function(){validate()},0):!scope.inputCtrl.$valid&&scope.inputCtrl.$dirty&&toggleErrorClass(!0),scope.$watch("inputCtrl.$valid",function(isValid){toggleErrorClass(isValid?!1:!0)}),scope.$watch("inputCtrl.$modelValue",function(){validate()})}}}),angular.module("patternfly.notification").run(["$templateCache",function($templateCache){"use strict";$templateCache.put("notification/views/notification-list.html",'<div data-ng-show="notifications.data.length > 0">\n  <div ng-repeat="notification in notifications.data">\n    <pf-notification pf-notification-type="notification.type"\n                     pf-notification-header="notification.header"\n                     pf-notification-message="notification.message"\n                     pf-notification-persistent="notification.isPersistent"\n                     pf-notification-index="$index">\n    </pf-notification>\n  </div>\n</div>\n'),$templateCache.put("notification/views/notification.html",'<div class="alert alert-{{pfNotificationType}}">\n  <button ng-show="pfNotificationPersistent" type="button" class="close"\n          ng-click="$parent.notifications.remove($index)">\n    <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>\n  </button>\n\n  <span class="pficon pficon-ok" ng-show="pfNotificationType == \'success\'"></span>\n  <span class="pficon pficon-info" ng-show="pfNotificationType == \'info\'"></span>\n  <span class="pficon-layered" ng-show="pfNotificationType == \'danger\'">\n    <span class="pficon pficon-error-octagon"></span>\n    <span class="pficon pficon-error-exclamation"></span>\n  </span>\n  <span class="pficon-layered" ng-show="pfNotificationType == \'warning\'">\n    <span class="pficon pficon-warning-triangle"></span>\n    <span class="pficon pficon-warning-exclamation"></span>\n  </span>\n  <strong>{{pfNotificationHeader}}</strong> {{pfNotificationMessage}}\n</div>\n')}]);